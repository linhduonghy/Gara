<!DOCTYPE html>
<html>

<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans" />
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="../static/css/bootstrap.min.css">
	<script src="https://use.fontawesome.com/369acbe04f.js"></script>
	<link rel="stylesheet" href="../static/css/style.css">

	<style>
		#addCustomer form label {
			margin-bottom: 0;
		}
		#addCustomer form input {
			margin-bottom: 0.5rem;
		}
	</style>
	<title>Nhận xe</title>
</head>

<body>
	<!-- Header -->
	<div class="main-header">
		<div class="header-top">
			<div class="row clearfix">
				<!-- Logo -->
				<div class="col-md-3 col-sm-3 col-xs-12 logo">
					<a href="#"> <img src="../static/images/logo.png" alt="Logo">
					</a>
				</div>
				<div class="col-lg-5 col-md-6 col-sm-10 header-top-infos">
					<ul class="clearfix">
						<li>
							<div class="clearfix">
								<img src="../static/images/header-phone.png" alt="image">
								<p>
									<b>Call Us Now</b> <br> +49 123 456 789
								</p>
							</div>
						</li>
						<li>
							<div class="clearfix">
								<img src="../static/images/header-timer.png" alt="image">
								<p>
									<b>Opening Hours</b> <br>Mon - Sat 9.00 - 19.00
								</p>
							</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<div class="main-menu">
			<nav class="navbar navbar-expand-lg">
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
					aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
					<span class="navbar-toggler-icon"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbarNav">
					<ul class="navbar-nav">
						<li class="nav-item"><a class="nav-link" href="home.html">Trang
								chủ <span class="sr-only">(current)</span>
							</a></li>
						<li class="nav-item"><a class="nav-link" href="car_reception.html">Nhận xe</a>
						</li>
						<li class="nav-item"><a class="nav-link" href="payment.html">Thanh
								toán</a></li>
						<li class="nav-item"><a class="nav-link" href="report.html">Thống
								kê</a></li>
					</ul>
				</div>
			</nav>

		</div>
	</div>
	<!-- End Header -->

	<!-- Content -->
	<div class="content">
		<!-- Add Customer Modal -->
		<!-- Modal -->
		<div id="addCustomer" class="modal fade" role="dialog">
			<div class="modal-dialog" style="max-width: 600px;">

				<!-- Modal content-->
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title font-weight-bold">Thêm mới khách hàng</h4>
						<button type="button" class="close" data-dismiss="modal">&times;</button>

					</div>
					<div class="modal-body">
						<form action="#">
							<div class="form-group">
								<label for="name">Họ Tên</label>
								<input type="text" class="form-control" id="name" >
							</div>
							<div class="form-group">
								<label for="email">Email</label>
								<input type="email" class="form-control" id="email" >
							</div>
							<div class="form-group">
								<label for="address">Địa chỉ</label>
								<input type="text" class="form-control" id="address" >
							</div>
							<div class="form-group">
								<label for="phone">Số điện thoại</label>
								<input type="text" class="form-control" id="phone" >
							</div>
							<div class="form-group">
								<label for="dob">Ngày sinh</label>
								<input type="text" class="form-control" id="dob" >
							</div>
							<div class="form-group">
								<label for="cardNumber">Số CMND</label>
								<input type="text" class="form-control" id="cardNumber" >
							</div>
							<button type="submit" class="btn btn-primary">Xác nhận</button>
						</form>
					</div>					
				</div>

			</div>
		</div>
		<div class="container">
			<form action="#" method="post">
				<div class="customer-search">
					<input type="text" id="customerSearchText" class="form-control" placeholder="tìm kiếm khách hàng">
					<a class="btn btn-primary text-white" style="margin-top: -5px;" data-toggle="modal"
						data-target="#addCustomer">Thêm khách hàng</a>
					<div id="listCustomer" style="display: none;">
						<table class="table table-hover">
							<tbody>
								<tr style="cursor: pointer;">
									<td>Dương Văn Linh</td>
									<td>Vĩnh Phúc</td>
									<td>0396156993</td>

								</tr>
								<tr style="cursor: pointer;">
									<td>Hoàng Hà Linh</td>
									<td>Long Biên</td>
									<td>0323938123</td>

								</tr>
								<tr style="cursor: pointer;">
									<td>Hoàng Lam Linh</td>
									<td>Long Biên-Hà Nội</td>
									<td>0396123456</td>

								</tr>
								<tr style="cursor: pointer;">
									<td>Nguyễn Đức Linh</td>
									<td>Phú Thọ</td>
									<td>0396345678</td>
								</tr>
								<tr style="cursor: pointer;">
									<td>Dương Quang Linh</td>
									<td>Vĩnh Phúc</th>
									<td>0396312422</td>

								</tr>
								<tr style="cursor: pointer;">
									<td>Dương Linh</td>
									<td>Vĩnh Phúc</td>
									<td>0396151102</td>

								</tr>
								<tr style="cursor: pointer;">
									<td>Dương Văn Linh</td>
									<td>Vĩnh Phúc</td>
									<td>0396156993</td>

								</tr>
								<tr style="cursor: pointer;">
									<td>Dương Văn Linh</td>
									<td>Vĩnh Phúc</td>
									<td>0396156993</td>
								</tr>
							</tbody>
						</table>
					</div>
				</div>
				<div class="customer-car-info">
					<div class="row">
						<!-- customer info -->
						<div class="col-sm-5">
							<div class="card">
								<div class="card-header text-center" style="background-color: #33b5e5; color: #fff;">
									<h4 class="card-title">Thông tin khách hàng</h4>
								</div>
								<div class="card-body" style="padding: 1rem">
									<div id="customerInfo" style="display: block;">
										<div class="form-group">
											<h4 class="form-text" id="customerName">Dương Văn Linh <i
													class="fa fa-check"></i></h4>
										</div>
										<div class="form-group">
											<cite title="San Francisco, USA" id="address">Vĩnh Phúc </cite> <i
												class="fa fa-map-marker ml-1"> </i>
										</div>
										<div class="form-group">
											<i class="fa fa-envelope"></i> <span class="cus-info"
												id="email">linhduonghy@gmail.com</span>
										</div>
										<div class="form-group">
											<i class="fa fa-phone"></i> <span class="cus-info" style="margin-left:7px;"
												id="phone">0396156993</span>
										</div>
										<div class="form-group">
											<i class="fa fa-credit-card"></i> <span class="cus-info"
												id="cardNumber">026033001378</span>
										</div>
										<div class="form-group" style="margin-bottom: 0;">
											<i class="fa fa-calendar"></i> <span class="cus-info"
												id="dob">19/10/1999</span>
										</div>

									</div>
								</div>
							</div>
						</div>
						<div class="col-sm-1"></div>
						<!-- car info -->
						<div class="col-sm-6">
							<div class="card " style="margin-left: -20px">
								<div class="card-header text-center" style="background-color: #33b5e5; color: #fff;">
									<h4 class="card-title">Thông tin xe</h4>
								</div>
								<div class="card-body" style="padding-bottom: 1rem;">

									<div class="form-group">
										<label for="modelCar">Thông tin chung</label> <input type="text"
											class="form-control" id="modelCar"> <small
											class="form-text text-muted">Thông tin về hãng xe, mẫu
											xe, số km đã đi</small>
									</div>
									<div class="form-group">
										<label for="statusCar">Tình trạng</label> <input type="password"
											class="form-control" id="statusCar">
										<small class="form-text text-muted">Thông tin về tình
											trạng xe</small>
									</div>

								</div>
							</div>
						</div>
					</div>
				</div>

				<div class="service-part">
					<div class="service-part-search">
						<input class="form-control" id="searchServicePartInput" type="text"
							placeholder="tìm kiếm dịch vụ, phụ tùng">
					</div>
					<div class="service-part-detail card mt-2" style="max-width: 445px;">
						<div class="card-header" style="background-color: #33b5e5; color: #fff;">
							<h5 style="margin-bottom: 0;" class="card-title">Thông tin
								dịch vụ, phụ tùng</h5>
						</div>
						<div class="card-body" style="padding: 0.75rem;">
							<div class="service-part-item" id="spName">Tên dịch vụ, phụ
								tùng:</div>
							<div class="service-part-item" id="spDescription">Mô tả: </div>
							<div class="service-part-item" id="spPrice">Giá:</div>

							<div class="service-part-item" id="spPrice">
								<label for="name">Số lượng: </label> <input style="width: 40px; height: 30px;"
									type="number" id="number" value="1" />
								<a class="btn btn-primary text-white" style="margin-left: 200px;">
									Xác nhận</a>
							</div>

						</div>

					</div>

				</div>

				<div class="list-service-part pt-3">
					<div class="card">
						<div class="card-header">
							<h4 class="card-title">Danh sách các dịch vụ phụ tùng</h4>
						</div>
						<div class="card-body table-responsive">
							<table class="table table-hover">
								<thead class="">
									<tr>
										<th>ID</th>
										<th>Tên</th>
										<th>Mô tả</th>
										<th>Giá</th>
										<th>Số lượng</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>#</td>
										<td>#</td>
										<td>#</td>
										<td>#</td>
										<td>#</td>
									</tr>
									<tr>
										<td>#</td>
										<td>#</td>
										<td>#</td>
										<td>#</td>
										<td>#</td>
									</tr>
									<tr>
										<td>#</td>
										<td>#</td>
										<td>#</td>
										<td>#</td>
										<td>#</td>
									</tr>
									<tr>
										<td>#</td>
										<td>#</td>
										<td>#</td>
										<td>#</td>
										<td>#</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>

				</div>

				<div class="technical-staff mt-3">
					<div class="card">
						<div class="card-header">
							<h4 class="card-title">Chọn nhân viên kỹ thuật</h4>
						</div>
						<div class="card-body table-responsive">
							<table class="table table-hover">
								<thead class="">
									<tr>
										<th>ID</th>
										<th>Họ Tên</th>
										<th>Trình độ chuyên môn</th>
										<th>#</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>1</td>
										<td>Dakota Rice</td>
										<td>#</td>
										<td>
											<div class="radio">
												<label><input type="radio" name="optradio"></label>
											</div>
										</td>

									</tr>
									<tr>
										<td>2</td>
										<td>Minerva Hooper</td>
										<td>#</td>
										<td>
											<div class="radio">
												<label><input type="radio" name="optradio"></label>
											</div>
										</td>
									</tr>
									<tr>
										<td>3</td>
										<td>Sage Rodriguez</td>
										<td>#</td>
										<td>
											<div class="radio">
												<label><input type="radio" name="optradio"></label>
											</div>
										</td>
									</tr>
									<tr>
										<td>4</td>
										<td>Philip Chaney</td>
										<td>#</td>
										<td>
											<div class="radio">
												<label><input type="radio" name="optradio"></label>
											</div>
										</td>
									</tr>
								</tbody>
							</table>
						</div>
					</div>
				</div>
				<input type="submit" class="btn btn-primary float-right m-3" value="Xác nhận">
			</form>
		</div>
	</div>
	<!-- End Content -->

	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	<script src="../static/js/jquery-3.5.1.min.js"></script>
	<script src="../static/js/popper.min.js"></script>
	<script src="../static/js/bootstrap.min.js"></script>

	<!-- Optional JavaScript -->
	<script>
		$("#customerSearchText").keyup(function () {
			var customerName = $("#customerSearchText").val().toUpperCase();
			var listCustomer = $("#listCustomer");
			if (customerName === "") {
				$('#listCustomer div').remove();
				return;
			}
			$('#listCustomer div').remove();
			$.ajax({
				url: `http://localhost:8080/GaraMan/customer/get?name=\${customerName}`,
				type: 'get',
				cache: false,
				dataType: 'json',
				success: function (data) {
					if (data.length === 0) {
						$("#listCustomer").append(`<div class="alert alert-warning" role="alert">Không tìm thấy khách hàng</div>`);
						$("#listCustomer").append(`<div class="d-flex p-2 bd-highlight"><button class="btn btn-primary">Thêm khách hàng</button></div>`);
					}
					else {
						data.forEach((customer) => {
							//console.log(customer);
							$("#listCustomer").append(`<div class="customer-item" id="customer_\${customer.id}">\${customer.name} \${customer.cardNumber}</div>`);
							$("#customer_" + customer.id).click(() => {
								$("#customerSearchText").val('');
								$('#listCustomer div').remove();
								addCustomerInfo(customer);
								console.log(customer);
							});
						});
					}

				},
				error: (e) => {
					console.log(e);
				}
			});
		});
		var addCustomerInfo = (customer) => {
			$("#customerInfo").show();
			$("#customerName").html(customer.name);
			$("#address").html(customer.address);
			$("#email").html(customer.email);
			$("#cardNumber").html(customer.carNumber);
			$("#dob").html(customer.dob);
		};
	</script>
	<script src="../static/js/custom.js"></script>

</body>

</html>